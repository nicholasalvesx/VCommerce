@model IEnumerable<VCommerce.Mvc.Models.ProductViewModel>
@{
    ViewData["Title"] = "Homepage";
}

<link rel="stylesheet" href="/css/product.css" asp-append-version="true" />
<link rel="stylesheet" href="/css/dashboard.css" asp-append-version="true" />

<div class="dashboard-container">
    <div class="sidebar">
        <div class="sidebar-header">
            <h3>VCommerce</h3>
        </div>
        <ul class="sidebar-menu">
            <li class="active"><a href="/Home/Index"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a href="/Products/Index"><i class="fas fa-box"></i> Products</a></li>
            <li><a href="/Orders/Index"><i class="fas fa-shopping-cart"></i> Orders</a></li>
            <li><a href="/Customers/Index"><i class="fas fa-users"></i> Customers</a></li>
            <li><a href="/Reports/Index"><i class="fas fa-chart-bar"></i> Reports</a></li>
            <li><a href="/Settings/Index"><i class="fas fa-cog"></i> Settings</a></li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Top Navigation -->
        <nav class="top-nav">
            <div class="search-container">
                <input type="text" placeholder="Search..." />
                <button type="submit"><i class="fas fa-search"></i></button>
            </div>
            <div class="user-info">
                <span class="notifications"><i class="fas fa-bell"></i></span>
                <span class="user-name">Admin User</span>
                <img src="/images/user-avatar.jpg" class="user-avatar" alt="User Avatar" />
            </div>
        </nav>

        <div class="summary-cards">
            <div class="card summary-card">
                <div class="card-body">
                    <div class="summary-icon bg-primary">
                        <i class="fas fa-shopping-bag"></i>
                    </div>
                    <div class="summary-details">
                        <h3>@Model.Count()</h3>
                        <p>Total Products</p>
                    </div>
                </div>
            </div>
            <div class="card summary-card">
                <div class="card-body">
                    <div class="summary-icon bg-success">
                        <i class="fas fa-dollar-sign"></i>
                    </div>
                    <div class="summary-details">
                        <h3>@Model.Sum(p => p.Price).ToString("C")</h3>
                        <p>Total Inventory Value</p>
                    </div>
                </div>
            </div>
            <div class="card summary-card">
                <div class="card-body">
                    <div class="summary-icon bg-warning">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="summary-details">
                        <h3>125</h3>
                        <p>Total Customers</p>
                    </div>
                </div>
            </div>
            <div class="card summary-card">
                <div class="card-body">
                    <div class="summary-icon bg-info">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="summary-details">
                        <h3>32</h3>
                        <p>Orders Today</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="dashboard-section">
            <div class="section-header">
                <h2>Products</h2>
                <a href="/Products/Create" class="btn btn-primary">Add New Product</a>
            </div>
            
            <div class="container row">
                @foreach (var product in Model.Take(8))
                {
                    <div class="col-md-3 mb-2">
                        <a href="/Home/ProductDetails/@product.Id">
                            <div class="card product-card">
                                <div class="card-badge">
                                    @if (product.Price > 100)
                                    {
                                        <span class="badge bg-danger">Premium</span>
                                    }
                                    else if (product.Price < 50)
                                    {
                                        <span class="badge bg-success">Sale</span>
                                    }
                                </div>
                                <img class="img-thumbnail" src="/images/@product.ImageURL">
                                <div class="card-body">
                                    <h5 class="card-title mb-2">
                                        @product.Name   
                                    </h5>
                                    <p class="cart-text text-black">
                                        <b>@product.Price.ToString("C")</b>
                                    </p>
                                </div>
                            </div>
                        </a>
                    </div>
                }
            </div>
            <div class="view-all">
                <a href="/Products/Index" class="btn btn-outline-primary">View All Products</a>
            </div>
        </div>

        <div class="dashboard-section">
            <div class="section-header">
                <h2>Recent Orders</h2>
            </div>
            <div class="card">
                <div class="card-body">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Order ID</th>
                                <th>Customer</th>
                                <th>Date</th>
                                <th>Amount</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>#ORD-2023-001</td>
                                <td>John Doe</td>
                                <td>@DateTime.Now.AddDays(-1).ToString("dd/MM/yyyy")</td>
                                <td>$245.99</td>
                                <td><span class="badge bg-success">Completed</span></td>
                                <td>
                                    <a href="#" class="btn btn-sm btn-info">View</a>
                                </td>
                            </tr>
                            <tr>
                                <td>#ORD-2023-002</td>
                                <td>Jane Smith</td>
                                <td>@DateTime.Now.AddDays(-2).ToString("dd/MM/yyyy")</td>
                                <td>$145.50</td>
                                <td><span class="badge bg-warning">Processing</span></td>
                                <td>
                                    <a href="#" class="btn btn-sm btn-info">View</a>
                                </td>
                            </tr>
                            <tr>
                                <td>#ORD-2023-003</td>
                                <td>Robert Johnson</td>
                                <td>@DateTime.Now.AddDays(-2).ToString("dd/MM/yyyy")</td>
                                <td>$89.99</td>
                                <td><span class="badge bg-info">Shipped</span></td>
                                <td>
                                    <a href="#" class="btn btn-sm btn-info">View</a>
                                </td>
                            </tr>
                            <tr>
                                <td>#ORD-2023-004</td>
                                <td>Emily Davis</td>
                                <td>@DateTime.Now.AddDays(-3).ToString("dd/MM/yyyy")</td>
                                <td>$320.75</td>
                                <td><span class="badge bg-danger">Cancelled</span></td>
                                <td>
                                    <a href="#" class="btn btn-sm btn-info">View</a>
                                </td>
                            </tr>
                            <tr>
                                <td>#ORD-2023-005</td>
                                <td>Michael Wilson</td>
                                <td>@DateTime.Now.AddDays(-3).ToString("dd/MM/yyyy")</td>
                                <td>$175.25</td>
                                <td><span class="badge bg-success">Completed</span></td>
                                <td>
                                    <a href="#" class="btn btn-sm btn-info">View</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script>
        $(document).ready(function() {
            console.log("Dashboard loaded");
        });
    </script>
}